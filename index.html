<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- PRIMARY SEO -->
    <title>Ash | Creative Full-Stack Developer</title>
    <meta name="description" content="Portfolio of Ash, a developer building high-performance 3D web experiences with React, Three.js, and GSAP." />
    <meta name="keywords" content="React Developer, Three.js Portfolio, GSAP Animations, Full-Stack Developer, Creative Web Design" />
    <meta name="author" content="Ash" />

    <!-- SOCIAL MEDIA (OG TAGS) - Helps SEO score -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Ash | Creative Full-Stack Developer" />
    <meta property="og:description" content="Check out my 3D interactive portfolio built with React and GSAP." />
    <meta property="og:image" content="/logo.png" />

    <!-- PERFORMANCE: Preload background image -->
    <!-- Ensure this path EXACTLY matches the path used in your React CSS/JSX -->
    <link rel="preload" as="image" href="/assets/hero-bg.webp" />
    
    <!-- FAVICON: Fixes 404 console error -->
    <link rel="icon" type="image/png" href="/logo.png" />
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>

    <!-- OPTIMIZED CHATBASE: Delayed loading to boost performance score -->
    <script>
      (function () {
        if (!window.chatbase || window.chatbase("getState") !== "initialized") {
          window.chatbase = (...arguments) => {
            if (!window.chatbase.q) {
              window.chatbase.q = [];
            }
            window.chatbase.q.push(arguments);
          };
          window.chatbase = new Proxy(window.chatbase, {
            get(target, prop) {
              if (prop === "q") {
                return target.q;
              }
              return (...args) => target(prop, ...args);
            },
          });
        }

        const onLoad = function () {
          const script = document.createElement("script");
          script.src = "https://www.chatbase.co/embed.min.js";
          script.id = "y7-oGlpys3TBYEWbla15i";
          script.domain = "www.chatbase.co";
          script.async = true; // Added async for better performance
          document.body.appendChild(script);
        };

        // This is the magic part: Wait 4 seconds after window load 
        // to ensure 3D model and GSAP are finished first.
        if (document.readyState === "complete") {
          setTimeout(onLoad, 4000); 
        } else {
          window.addEventListener("load", () => setTimeout(onLoad, 4000));
        }
      })();
    </script>
  </body>
</html>